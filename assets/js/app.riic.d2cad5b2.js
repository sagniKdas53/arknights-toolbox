(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app.riic"],{"072a":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i("07ac");var r=i("5530"),o=i("60bb"),l=i.n(o),a=i("6a80"),n=l.a.mapValues(a,(function(e,t){return Object(r["a"])({name:t},e)}));Object.values(n);t["b"]={characterTable:n,characterList:Object.values(n)}},"60fe":function(e,t,i){"use strict";i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return n})),i.d(t,"d",(function(){return c}));var r=i("5530"),o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",l={notSelected:["mdui-color-brown-100 mdui-ripple-black","mdui-color-grey-900"],selected:["mdui-color-grey-800","mdui-color-brown-100 mdui-ripple-black"]},a=Object(r["a"])(Object(r["a"])({},l),{},{6:["mdui-color-red-700","mdui-color-red-200 mdui-ripple-black"],5:["mdui-color-orange-900","mdui-color-orange-200 mdui-ripple-black"],4:["mdui-color-cyan-700","mdui-color-cyan-200 mdui-ripple-black"],3:["mdui-color-green-700","mdui-color-green-200 mdui-ripple-black"],2:["mdui-color-brown-700","mdui-color-brown-200 mdui-ripple-black"],1:["mdui-color-grey-700","mdui-color-grey-200 mdui-ripple-black"],text:{6:["mdui-text-color-red-700","mdui-text-color-red-200"],5:["mdui-text-color-orange-900","mdui-text-color-orange-200"],4:["mdui-text-color-cyan-700","mdui-text-color-cyan-200"],3:["mdui-text-color-green-700","mdui-text-color-green-200"],2:["mdui-text-color-brown-700","mdui-text-color-brown-200"],1:["mdui-text-color-grey-700","mdui-text-color-grey-200"]}}),n=Object(r["a"])(Object(r["a"])({},l),{},{5:["mdui-color-yellow-700","mdui-color-yellow-200 mdui-ripple-black"],4:["mdui-color-deep-purple-300","mdui-color-deep-purple-200 mdui-ripple-black"],3:["mdui-color-blue-600","mdui-color-blue-200 mdui-ripple-black"],2:["mdui-color-lime","mdui-color-lime-200 mdui-ripple-black"],1:["mdui-color-grey-700","mdui-color-grey-200 mdui-ripple-black"],SYNT:["mdui-color-orange-900","mdui-color-orange-300"],ALWAYS:["mdui-color-grey-900","mdui-color-grey-200"],ALMOST:["mdui-color-grey-700","mdui-color-grey-400"],USUAL:["mdui-color-grey-500","mdui-color-grey-600"],OFTEN:["mdui-color-grey-300","mdui-color-grey-800"],SOMETIMES:["mdui-color-red-900","mdui-color-red-200"]}),c=Object(r["a"])(Object(r["a"])({},l),{},{BUILDING:l.selected,MANUFACTURE:["mdui-color-amber-400","mdui-color-amber-300"],TRADING:["mdui-color-light-blue-700","mdui-color-light-blue-300"],POWER:["mdui-color-green-600","mdui-color-green-300"],CONTROL:["mdui-color-green-900","mdui-color-green-300"],DORMITORY:["mdui-color-cyan-300","mdui-color-cyan-200"],MEETING:["mdui-color-orange-900","mdui-color-orange-300"],WORKSHOP:["mdui-color-lime-400","mdui-color-lime-300"],TRAINING:["mdui-color-red-900","mdui-color-red-300"],HIRE:["mdui-color-grey-700","mdui-color-grey-300"]})},"7df1":function(e,t,i){"use strict";var r=i("c7d5"),o=i.n(r);o.a},"7e61":function(e,t,i){},"91ae":function(e,t,i){"use strict";var r=i("7e61"),o=i.n(r);o.a},9701:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"arkn-base"}},[i("div",{class:!!e.$root.smallScreen&&"mdui-drawer mdui-drawer-right mdui-drawer-close",attrs:{id:"drawer"}},[i("div",{staticClass:"mdui-row"},e._l(e.tagDisplay,(function(t,r){return i("div",{key:r,staticClass:"mdui-col-xs-12 tag-group-outside"},e._l(t,(function(t){return i("div",{key:t,staticClass:"tag-group mobile-screen-flex-box equally"},[i("label",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.textColor[t],expression:"textColor[tagType]"}],staticClass:"mdui-textfield-label flex-full"},[e._v(e._s("BUILDING"===t?e.$tt("riic.select."+t):e.$t("building.name."+t)))]),e._l(e.buff.numKey[t],(function(r,o){return i("tag-button",{key:t+"-"+o,class:{"opacity-5":e.selected&&!(e.selected[0]===t&&e.selected[1]===o)},attrs:{notSelectedColor:e.color[t]||e.color.selected,selectedColor:e.color[t]||e.color.selected,canChange:!1},on:{click:function(i){return e.toggleTag(t,o)}}},[e._v(e._s("BUILDING"===t?e.$t("building.name."+o):"TRAINING"===t&&"全能"!==o?e.$t("tag."+e.enumTag[o+"干员"]):e.$tt("riic.select."+o)))])}))],2)})),0)})),0),i("div",{staticClass:"mdui-row mdui-m-t-2"},[i("div",{staticClass:"mdui-col-xs-12",staticStyle:{"white-space":"normal"}},[i("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn mdui-m-r-2",on:{click:e.reset}},[e._v(e._s(e.$t("common.reset")))]),e._l(e.settingList,(function(t){return i("mdui-switch",{key:t,staticClass:"mdui-m-r-2",model:{value:e.setting[t],callback:function(i){e.$set(e.setting,t,i)},expression:"setting[key]"}},[e._v(e._s(e.$t("riic.setting."+t)))])})),e.$root.localeNotZH?i("mdui-switch",{staticClass:"mdui-m-r-2",model:{value:e.setting.showNotImplemented,callback:function(t){e.$set(e.setting,"showNotImplemented",t)},expression:"setting.showNotImplemented"}},[e._v(e._s(e.$t("riic.setting.showNotImplemented")))]):e._e()],2)]),i("div",{staticClass:"mdui-row"},[i("div",{staticClass:"mdui-col-xs-12 mdui-textfield mdui-textfield-floating-label mdui-textfield-has-clear",attrs:{id:"name-filter"}},[i("label",{staticClass:"mdui-textfield-label"},[e._v(e._s(e.$t("riic.searchPlaceholder")))]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.nameFilterInput,expression:"nameFilterInput",modifiers:{trim:!0}}],staticClass:"mdui-textfield-input",attrs:{type:"text"},domProps:{value:e.nameFilterInput},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.nameFilterInput=""},input:function(t){t.target.composing||(e.nameFilterInput=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),i("button",{staticClass:"mdui-btn mdui-btn-icon mdui-ripple mdui-btn-dense mdui-textfield-floating-label-clear",on:{click:e.clearNameFilter}},[i("i",{staticClass:"mdui-icon material-icons"},[e._v("close")])])])])]),i("div",{class:"mdui-row "+(e.$root.smallScreen?"":"mdui-m-t-4")},[i("div",{staticClass:"mdui-col-xs-12"},[i("div",{staticClass:"mdui-table-fluid"},[i("table",{staticClass:"mdui-table hide-last-tr-border",attrs:{id:"skill-table"}},[i("thead",[i("tr",[i("th",{staticClass:"mdui-text-center"},[e._v(e._s(e.$t("riic.table.header.operator")))]),i("th",{staticClass:"mdui-text-center"},[e._v(e._s(e.$t("riic.table.header.unlock")))]),i("th",{staticClass:"mdui-text-center mdui-hidden-sm-down"},[e._v(e._s(e.$t("riic.table.header.building")))]),i("th",{staticClass:"mdui-text-center"},[e._v(e._s(e.$t("riic.table.header.skill")))]),i("th",[e._v(e._s(e.$t("riic.table.header.buff")))])])]),i("tbody",[e._l(e.displayWithNameFilter,(function(t,r){return e._l(t.skills,(function(o,l){return i("tr",{key:t.name+"-"+o.id,class:{"last-item":r==e.displayWithNameFilter.length-1},attrs:{"skill-index":l}},[0===l?i("td",{staticClass:"mdui-ripple no-wrap lh-1",attrs:{rowspan:t.skills.length,width:"1"},on:{click:function(i){return e.goToWiki(t.name)}}},[i("div",{staticClass:"mdui-valign"},[e.loadedImage[t.name]?i("avatar",{staticClass:"mdui-list-item-avatar mdui-m-a-0",attrs:{name:t.name}}):i("lazy-component",{staticClass:"lazy-avatar",attrs:{"data-name":t.name},on:{show:e.lazyloadHandler}},[i("avatar",{staticClass:"mdui-list-item-avatar mdui-m-a-0",attrs:{name:t.name}})],1),i("span",{staticClass:"mdui-m-l-1"},[e._v(e._s(e.$t("character."+t.name)))])],1)]):i("td",{staticClass:"hidden"}),i("td",{staticClass:"mdui-text-center no-wrap"},[e._v(e._s(e.$t("riic.table.unlock."+o.unlock)))]),i("td",{staticClass:"mdui-text-center mdui-hidden-sm-down no-wrap"},[e._v(e._s(e.$t("building.name."+e.getInfoById(o.id).building)))]),i("td",{staticClass:"mdui-text-center no-wrap"},[i("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.color[e.getInfoById(o.id).building],expression:"color[getInfoById(skill.id).building]"}],staticClass:"skill-card"},[e._v(e._s(e.$t("building.buff.name."+o.id)))])]),i("td",{class:!!e.$root.smallScreen&&"no-wrap",domProps:{innerHTML:e._s(e.coloredDescription(e.$t("building.buff.description."+e.buff.description[o.id])))}})])}))}))],2)])])])]),e.$root.smallScreen?i("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.pinkBtn,expression:"$root.color.pinkBtn"}],staticClass:"mdui-fab mdui-fab-fixed mdui-fab-mini mdui-ripple",on:{click:function(t){!e.drawer&&(e.drawer=new e.$Drawer("#drawer")),e.drawer.toggle()}}},[i("i",{staticClass:"mdui-icon material-icons"},[e._v("sort")])]):i("scroll-to-top")],1)},o=[],l=(i("a4d3"),i("e01a"),i("4de4"),i("c975"),i("d81d"),i("45fc"),i("b0c0"),i("dca8"),i("d3b7"),i("ac1f"),i("5319"),i("841c"),i("ddb0"),i("5530")),a=i("b85c"),n=i("3835"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:e.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-fab mdui-fab-fixed mdui-ripple scroll-to-top",class:{"mdui-fab-hide":e.top<1e3},on:{click:e.scrollTop}},[i("i",{staticClass:"mdui-icon material-icons"},[e._v("vertical_align_top")])])},s=[],d=i("60bb"),u=i.n(d),m={name:"scroll-to-top",data:function(){return{top:0,handleScrollDebounce:function(){}}},methods:{scrollTop:function(){window.scroll({top:0,left:0,behavior:"smooth"})},handleScroll:function(){this.top=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}},created:function(){this.handleScrollDebounce=u.a.debounce(this.handleScroll,100)},mounted:function(){window.addEventListener("scroll",this.handleScrollDebounce)},destroyed:function(){window.removeEventListener("scroll",this.handleScrollDebounce)}},p=m,f=(i("91ae"),i("2877")),b=Object(f["a"])(p,c,s,!1,null,"151fee56",null),h=b.exports,g=i("b9af"),v=i("072a"),y=i("0bbb"),w=i("86c6"),k=i("60fe"),I=u.a.mapValues(u.a.invert(w),parseInt);Object.freeze(I);var x={notSelected:["mdui-color-brown-300 mdui-ripple-black","mdui-color-grey-800"],selected:["mdui-color-grey-800","mdui-color-brown-100 mdui-ripple-black"],MANUFACTURE:["mdui-color-amber-400","mdui-color-amber-300"],TRADING:["mdui-color-light-blue-700","mdui-color-light-blue-300"],POWER:["mdui-color-green-600","mdui-color-green-300"],CONTROL:["mdui-color-green-900","mdui-color-green-300"],DORMITORY:["mdui-color-cyan-300","mdui-color-cyan-200"],MEETING:["mdui-color-orange-900","mdui-color-orange-300"],WORKSHOP:["mdui-color-lime-400","mdui-color-lime-300"],TRAINING:["mdui-color-red-900","mdui-color-red-300"],HIRE:["mdui-color-grey-700","mdui-color-grey-300"]};x.BUILDING=x.selected;var C=[["BUILDING"],["MANUFACTURE","TRADING","CONTROL","DORMITORY","MEETING","WORKSHOP","TRAINING"]],N=function(e){return y["a"].info[y["a"].description[e]]},A=function(e){return u.a.transform(e,(function(e,t){var i=t.id,r=N(i),o=r.num;u.a.each(o,(function(t,i){(!e[i]||e[i]<t)&&(e[i]=t)}))}),{})},$={name:"arkn-base",components:{ScrollToTop:h},data:function(){return{enumTag:I,char:y["b"],buff:y["a"],characterTable:v["a"],color:k["d"],tagDisplay:C,setting:{hideIrrelevant:!1,showNotImplemented:!1},settingList:["hideIrrelevant"],drawer:null,selected:null,nameFilterInput:"",nameFilter:"",updateNameFilter:u.a.debounce((function(e){this.nameFilter=e}),500),loadedImage:{},descriptionColor:[{buff:"mdui-text-color-blue",debuff:"mdui-text-color-red"},{buff:"mdui-text-color-blue-200",debuff:"mdui-text-color-red-200"}]}},watch:{setting:{handler:function(e){localStorage.setItem("riic.setting",JSON.stringify(e))},deep:!0},displayWithNameFilter:function(){this.$nextTick(this.$Lazyload.lazyLoadHandler)},nameFilterInput:function(e){this.updateNameFilter(e),e||this.updateNameFilter.flush()}},computed:{textColor:function(){return u.a.mapValues(this.color,(function(e){return e.map((function(e){return e.replace(/mdui-color/g,"mdui-text-color")}))}))},display:function(){var e=this,t=u.a.transform(y["b"],(function(t,i,r){if(e.setting.showNotImplemented||e.$root.isImplementedChar(r))if(e.selected){var o=i.filter(e.isSkillRelevant);o.length>0&&(e.setting.hideIrrelevant?t.push({name:r,skills:o}):t.push({name:r,skills:i}))}else t.push({name:r,skills:i})}),[]).reverse();if(this.selected){var i=Object(n["a"])(this.selected,2),r=i[0],o=i[1],l=u.a.castArray(y["a"].numKey[r][o]);t.sort((function(e,t){var i,r=[A(e.skills),A(t.skills)],o=r[0],n=r[1],c=Object(a["a"])(l);try{for(c.s();!(i=c.n()).done;){var s=i.value;if(o[s]||(o[s]=0),n[s]||(n[s]=0),0!==o[s]||0!==n[s])return n[s]-o[s]}}catch(d){c.e(d)}finally{c.f()}return e.name.localeCompare(t.name)}))}return t},displayWithNameFilter:function(){var e=this;if(!this.nameFilter)return this.display;var t=u.a.transform(this.display,(function(t,i){var r=e.nameFilter.replace(/ /g,""),o=e.$root.getSearchGroup(e.characterTable[i.name]).map((function(e){return e.indexOf(r)+1||1/0}));o.some((function(e){return e!==1/0}))&&t.push(Object(l["a"])(Object(l["a"])({},i),{},{search:o,nl:e.$t("character.".concat(i.name)).length}))}),[]);return!this.selected&&t.length&&t.sort((function(e,t){for(var i=e.search,r=e.nl,o=t.search,l=t.nl,a=0;a<Math.min(i.length,o.length);a++){var n=i[a]-o[a];if(!u.a.isNaN(n))return n||r-l}return 0})),t}},methods:{getInfoById:N,reset:function(){this.selected=null},toggleTag:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];u.a.isEqual(this.selected,t)?this.selected=null:this.selected=t},clearNameFilter:function(){this.nameFilter="",this.$$("#name-filter").removeClass("mdui-textfield-not-empty")},lazyloadHandler:function(e){var t=e.el.dataset.name;this.loadedImage[t]=!0},coloredDescription:function(e){var t=this.descriptionColor[this.$root.dark?1:0],i=t.buff,r=t.debuff;return e.replace(/{{(.+?)}}/g,'<span class="'.concat(i,'">$1</span>')).replace(/\[\[(.+?)\]\]/g,'<span class="'.concat(r,'">$1</span>'))},isSkillRelevant:function(e){var t=e.id,i=Object(n["a"])(this.selected,2),r=i[0],o=i[1],l=N(t),a=l.building,c=l.is;return"BUILDING"===r?o===a:r===a&&o in c},goToWiki:function(e){var t=this,i=Object(l["a"])({name:e},this.characterTable[e]);this.$confirm(this.$t("riic.viewOnWiki"),this.$t("character.".concat(e)),(function(){return window.open(t.$root.getWikiHref(i),"_blank")}),(function(){}),{confirmText:this.$t("common.yes"),cancelText:this.$t("common.no"),history:!1})}},created:function(){var e=localStorage.getItem("riic.setting");e&&(this.setting=u.a.assign({},this.setting,u.a.pick(Object(g["a"])(e),u.a.keys(this.setting))))}},O=$,_=(i("7df1"),Object(f["a"])(O,r,o,!1,null,null,null));t["default"]=_.exports},c7d5:function(e,t,i){}}]);